---
layout: post
catogories:
  - Matlab
tags: Matlab
---

# Matlab中 intlinprog函数用法简介

原博客（https://www.cnblogs.com/goodtwo/p/11145699.html）

## 1.简介

intlinprog是matlab中用于求解混合整数线性规划(Mixed-integer linear programming)的一个函数，用法基本和linprog差不多

Matlab中，该模型的标注写法如下

```
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
  <mtable displaystyle="true">
    <mlabeledtr>
      <mtd id="mjx-eqn-1">
        <mtext>(1)</mtext>
      </mtd>
      <mtd>
        <mi>m</mi>
        <mi>i</mi>
        <mi>n</mi>
        <mtext>&#xA0;</mtext>
        <mi>f</mi>
        <msup>
          <mspace width="thinmathspace" />
          <mi>T</mi>
        </msup>
        <mi>x</mi>
        <mspace width="thickmathspace" />
        <mspace width="thickmathspace" />
        <mspace linebreak="newline" />
        <mi>s</mi>
        <mo>.</mo>
        <mi>t</mi>
        <mo>.</mo>
        <mrow>
          <mo>{</mo>
          <mtable columnalign="left right" rowspacing="4pt" columnspacing="1em">
            <mtr>
              <mtd>
                <mi>x</mi>
                <mo stretchy="false">(</mo>
                <mi>i</mi>
                <mi>n</mi>
                <mi>t</mi>
                <mi>c</mi>
                <mi>o</mi>
                <mi>n</mi>
                <mo stretchy="false">)</mo>
                <mtext>&#xA0;</mtext>
                <mi>a</mi>
                <mi>r</mi>
                <mi>e</mi>
                <mtext>&#xA0;</mtext>
                <mi>i</mi>
                <mi>n</mi>
                <mi>t</mi>
                <mi>e</mi>
                <mi>g</mi>
                <mi>e</mi>
                <mi>r</mi>
                <mi>s</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>A</mi>
                <mo>&#x22C5;<!-- ⋅ --></mo>
                <mi>x</mi>
                <mo>&#x2264;<!-- ≤ --></mo>
                <mi>b</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>A</mi>
                <mi>e</mi>
                <mi>q</mi>
                <mo>&#x22C5;<!-- ⋅ --></mo>
                <mi>x</mi>
                <mo>=</mo>
                <mi>b</mi>
                <mi>e</mi>
                <mi>q</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>l</mi>
                <mi>b</mi>
                <mo>&#x2264;<!-- ≤ --></mo>
                <mi>x</mi>
                <mo>&#x2264;<!-- ≤ --></mo>
                <mi>u</mi>
                <mi>b</mi>
              </mtd>
            </mtr>
          </mtable>
          <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
      </mtd>
    </mlabeledtr>
  </mtable>
</math>
```



f,x,b,beq,lb,ub,intcon是向量；

A和Aeq是矩阵

f,x,b,beq,lb,ub,intcon是向量；

A和Aeq是矩阵



## 2.基本语法

##### 2.1 x=intlinprog(f,intcon,A,b,Aeq,beq,lb,ub)

与linprog相比，多了参数intcon,代表了整数决策变量所在的位置

例如x1和x3是整数变量则有，intcon=[1,3]

x1和x3是整数变量则有，intcon=[1,3]



## 3.实例

示例1，求解整数规划

```
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
  <msub>
    <mi>x</mi>
    <mn>1</mn>
  </msub>
  <mo>=</mo>
  <mn>1</mn>
  <mspace linebreak="newline" />
  <msub>
    <mi>x</mi>
    <mn>2</mn>
  </msub>
  <mo>=</mo>
  <mn>0</mn>
  <mspace linebreak="newline" />
  <msub>
    <mi>x</mi>
    <mn>3</mn>
  </msub>
  <mo>=</mo>
  <mn>1</mn>
  <mspace linebreak="newline" />
  <msub>
    <mi>x</mi>
    <mn>4</mn>
  </msub>
  <mo>=</mo>
  <mn>1</mn>
  <mspace linebreak="newline" />
  <mi>z</mi>
  <mo>=</mo>
  <mn>14</mn>
  <mspace linebreak="newline" />
</math>
```

求解代码

```matlab
f=[-5 -8];
A=[1 1;5 9];
b=[6 45];
lb=zeros(2,1);
intcon=[1 2];
[x,fval]=intlinprog(f,intcon,A,b,[],[],lb,[]);
x,fval=-fval
```

所得结果为：

x1=0,x2=5

z=40



示例2，求解0-1规划





```
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
  <msub>
    <mi>x</mi>
    <mn>1</mn>
  </msub>
  <mo>=</mo>
  <mn>1</mn>
  <mspace linebreak="newline" />
  <msub>
    <mi>x</mi>
    <mn>2</mn>
  </msub>
  <mo>=</mo>
  <mn>0</mn>
  <mspace linebreak="newline" />
  <msub>
    <mi>x</mi>
    <mn>3</mn>
  </msub>
  <mo>=</mo>
  <mn>1</mn>
  <mspace linebreak="newline" />
  <msub>
    <mi>x</mi>
    <mn>4</mn>
  </msub>
  <mo>=</mo>
  <mn>1</mn>
  <mspace linebreak="newline" />
  <mi>z</mi>
  <mo>=</mo>
  <mn>14</mn>
  <mspace linebreak="newline" />
</math>
```



求解代码：

```matlab
f=[-6 -2 -3 -5];
A=[-3 5 -1 -6;2 1 1 -1;1 2 4 5];
b=[-4 3 10]';
intcon=[1 2 3 4];
lb=zeros(4,1);
ub=ones(4,1);
[x,fval]=intlinprog(f,intcon,A,b,[],[],lb,ub);
x,fval=-fval
```

所得结果为：





x1=1x2=0x3=1x4=1z=14